
<ion-content [fullscreen]="true">
  <mp-time-bar [startMinutes]=10 />
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large" class="ion-align-items-center">
        Profile
        <ng-container *ngIf="(profile$ | async) as profile;">
          <ion-icon
            *ngIf="profile.status == 'Incomplete'"
            color="danger"
            name="alert-circle-outline"></ion-icon>
          <ion-icon
            *ngIf="profile.status == 'Complete'"
            color="success"
            name="checkmark-circle-outline"></ion-icon>
        </ng-container>
      </ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- The following calls account, personal,contact, address and occupation details components -->
  <ng-container *ngIf="(profile$ | async) as profile; else noProfile">
    <ms-profile-account-details-component></ms-profile-account-details-component>
    <ms-profile-personal-details-component></ms-profile-personal-details-component>
    <ms-profile-contact-details-component></ms-profile-contact-details-component>
    <ms-profile-address-details-component></ms-profile-address-details-component>
    <ms-profile-occupation-details-component></ms-profile-occupation-details-component>
  </ng-container>
   <!-- ***************************************************************************************** -->



  <!-- If Profile details have not yet been saved, show skeleton loader -->
  <ng-template #noProfile>
    <ion-grid>
      <ion-row>
        <ion-col>

          <!-- Card to prompt the user to enter their details-->
          <ion-card class="profile_incomplete">
            <ion-card-header>
              <ion-card-title>Account Incomplete</ion-card-title>
            </ion-card-header>

            <ion-card-content>
              Please click the profile button below to save your details.
            </ion-card-content>
          </ion-card>

          <ngx-skeleton-loader
            count="3"
            [theme]="{height: '150px'}"
            appearance="line"></ngx-skeleton-loader>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ng-template>
  <!-- End of #noProfile -->

  <!-- If Profile details have been saved, show profile details -->
  <ng-template #profile>

    <!-- Header TODO: center the text and add the Time bar component-->
    <ion-header>
      <ion-toolbar>
        <ion-title size="large" >Clockwise</ion-title>
      </ion-toolbar>
    </ion-header>
    <!-- End of Header -->

    <div class="scrollable-div">
        <img class="content" src="assets/logos/logo-animated.gif"/>
      <ion-card class="username">
        <ion-card-content style="text-align: center;">

          Username
          <ion-icon name="create"></ion-icon>
        </ion-card-content>
      </ion-card>

      <div  class="posts-container">

        <ion-grid>

        <!-- TODO: When backend is ready
          <ion-row *ngFor="let post of posts">
              <ion-col size="6" *ngFor="let image of post.images">
             <img src="{{image}}" style="width: 100%; height: auto;">
             </ion-col>
           </ion-row>
        -->
       </ion-grid>
     </div>

   </div>

 </ng-template>
 <!-- End of #profile -->



</ion-content>

