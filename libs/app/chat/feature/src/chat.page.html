<ion-content [fullscreen]="true">
  <div id="container">
    <!-- Chat search, needs access to data... -->
    <div class="chatSearchContainer">
      <input (focus)="clearText()" [(ngModel)]="searchQuery" type="text" placeholder=" ðŸ”Žï¸Ž search..." />
    </div>

    <!-- <mp-create-new-chat [personList]="personList"/> -->

    <!-- <button (click)="CallAllChats()">Get All chats</button> -->
  </div>
  <div class="chatContainer">
    <div *ngFor="let chat of chats;">
      <div *ngIf="testList(chat)">
        <div style="height: 4px;"></div>
        <mp-message-bubble *ngIf="test(chat)" (click)="populateChatPage(chat.messages, chat.chat_id)"
          (currentUser)="currentUser = $event" [chat]="chat" [myUserId]="getUserId()"></mp-message-bubble>
      </div>
    </div>
  </div>

  <!-- <div>
    <button (click)="newChat()">Start a new chat</button>
  </div> -->

  <div *ngIf="isNewChatOpen">
    <div>Start a new chat</div>
  </div>


  <mp-in-chat *ngIf="this.isChatPageOpen" [currentUser]="currentUser" (closeModal)="closeModal()" />

</ion-content>
