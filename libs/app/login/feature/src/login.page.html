<!-- This is the head section of the login page -->
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>
<!-- ******************************** Completed -->

<!--TODO: This is the body section of the login page -->
<ion-content [fullscreen]="true">

  <ion-grid>
    <!-- this row contains the logo -->
    <ion-row size="3">

      <ion-col></ion-col>

      <ion-col class="ion-text-center">
        <ion-img src="assets/logos/Logo_Attempt_-_edited.svg" alt="The Clockwise logo"></ion-img>
        <h1>Clockwise</h1>
        <h3>It's about time</h3>
      </ion-col>

      <ion-col></ion-col>

    </ion-row>
    <!--******************************** Completed -->

    <!-- this row contains the login form -->
    <ion-row size="3">

      <ion-card> <!-- this is the card that contains the login form -->


        <form [formGroup]="loginForm" ngxsForm="login.loginForm" (submit)="login()" >
          <ion-list class="ion-padding-vertical">

            <!-- Output incase of error with email-->
            <ion-text
              *ngIf="email?.invalid && (email?.dirty || email?.touched)"
              class="ion-padding-start"
              color="danger">
              <small>{{ emailError }}</small>

            </ion-text>
            <!-- ******************************** -->

            <!-- Email input -->
            <ion-item fill="outline" >
              <ion-label position="floating" class="required" >Email</ion-label>
              <ion-input
                shape="round"
                type="email"
                minlength="6"
                maxlength="64"
                placeholder="Enter email"
                required="true"
                autocomplete="email"
                formControlName="email"></ion-input>
            </ion-item>
            <!-- ******************************** -->

            <!-- Output incase of error with password-->
            <ion-text
              *ngIf="password?.invalid && (password?.dirty || password?.touched)"
              class="ion-padding-start"
              color="danger">
              <small>{{ passwordError }}</small>
            </ion-text>
            <!-- ******************************** -->

            <!-- Password input -->
            <ion-item fill="outline" counter="true" >
              <ion-label position="floating" class="required" >Password</ion-label>
              <ion-input
                [type]="showPassword ? 'text' : 'password'"
                minlength="6"
                maxlength="64"
                placeholder="Enter password"
                required="true"
                autocomplete="password"
                formControlName="password"></ion-input>
              <ion-icon
                [name]="showPassword ? 'eye-outline' : 'eye-off-outline'"
                slot="end"
                class="ion-align-self-center"
                (click)="toggleShowPassword()"></ion-icon>
            </ion-item>
            <!-- ******************************** -->

          </ion-list>

          <ion-grid class="ion-padding">
            <ion-row>
              <ion-col>
                <ion-button
                  expand="block"
                  [disabled]="!this.loginForm.valid || (busy$ | async)"
                  type="submit">
                  <ion-spinner *ngIf="busy$ | async"></ion-spinner>
                  <ion-text>Login</ion-text>
                </ion-button>
              </ion-col>
            </ion-row>

          </ion-grid>

        </form>
      </ion-card>




    </ion-row>
    <!--******************************** Completed-->

  </ion-grid>

  <!-- this row contains the forgot password and register links -->
  <!--
  <ion-row class="ion-padding-top">
    <ion-col class="ion-text-center">
      Having trouble?
      <ion-nav-link routerLink="/forgot">
        <ion-text color="primary">Forgot Password</ion-text>
      </ion-nav-link>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col class="ion-text-center">
      Don't have an account?
      <ion-nav-link routerLink="/register">
        <ion-text color="primary">Register</ion-text>
      </ion-nav-link>
    </ion-col>
  </ion-row>
  -->

</ion-content>
<!-- ******************************** -->

<!-- This is the footer section of the login page -->
<ion-footer collapse="condense" class="ion-padding ion-text-center">
  <ms-copyright-component></ms-copyright-component>
</ion-footer>
<!-- ******************************** -->
